

<!DOCTYPE html>
<html class="writer-html5" lang="zh-hans" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Creating Meta-rigs &mdash; Blender Manual</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  
  
  
    <link rel="canonical" href="https://docs.blender.org/manual/en/latest/addons/rigging/rigify/metarigs.html"/>
  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/language_data.js"></script>
        <script src="../../../_static/js/version_switch.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within Blender Manual"
          href="../../../_static/opensearch.xml"/>
    <link rel="alternate" hreflang="en" href="https://docs.blender.org/manual/en/latest/">
    <link rel="alternate" hreflang="de" href="https://docs.blender.org/manual/de/latest/">
    <link rel="alternate" hreflang="es" href="https://docs.blender.org/manual/es/latest/">
    <link rel="alternate" hreflang="fi" href="https://docs.blender.org/manual/fi/latest/">
    <link rel="alternate" hreflang="fr" href="https://docs.blender.org/manual/fr/latest/">
    <link rel="alternate" hreflang="it" href="https://docs.blender.org/manual/it/latest/">
    <link rel="alternate" hreflang="ja" href="https://docs.blender.org/manual/ja/latest/">
    <link rel="alternate" hreflang="ko" href="https://docs.blender.org/manual/ko/latest/">
    <link rel="alternate" hreflang="nb" href="https://docs.blender.org/manual/nb/latest/">
    <link rel="alternate" hreflang="pt" href="https://docs.blender.org/manual/pt/latest/">
    <link rel="alternate" hreflang="ru" href="https://docs.blender.org/manual/ru/latest/">
    <link rel="alternate" hreflang="sl" href="https://docs.blender.org/manual/sl/latest/">
    <link rel="alternate" hreflang="sr" href="https://docs.blender.org/manual/sr/latest/">
    <link rel="alternate" hreflang="uk" href="https://docs.blender.org/manual/uk/latest/">
    <link rel="alternate" hreflang="vi" href="https://docs.blender.org/manual/vi/latest/">
    <link rel="alternate" hreflang="zh-Hans" href="https://docs.blender.org/manual/zh-hans/latest/">
    <link rel="alternate" hreflang="zh-Hant" href="https://docs.blender.org/manual/zh-hant/latest/">
    <link rel="alternate" hreflang="x-default" href="https://docs.blender.org/manual/en/latest/">
    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="copyright" title="Copyright" href="../../../copyright.html" />
    <link rel="next" title="绑定类型" href="rig_types/index.html" />
    <link rel="prev" title="Generated Rig Features" href="rig_features.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home" alt="Documentation Home"> Blender 2.90 Manual
          

          
            
            <img src="../../../_static/blender-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../getting_started/index.html">Blender入门</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../interface/index.html">用户界面</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../editors/index.html">编辑器</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../scene_layout/index.html">场景 &amp; 物体</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../modeling/index.html">制作模型</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../sculpt_paint/index.html">雕刻 &amp; 绘制</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../grease_pencil/index.html">蜡笔</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../animation/index.html">动画 &amp; 绑定</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../physics/index.html">物理</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../render/index.html">渲染</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../compositing/index.html">合成</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../movie_clip/index.html">跟踪 &amp; 遮罩</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../video_editing/index.html">视频编辑</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../files/index.html">文件 &amp; 数据系统</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">插件</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html#add-ons-category-listings">插件类别列表</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../3d_view/index.html">3D视图</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../add_curve/index.html">添加曲线</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../add_mesh/index.html">添加网格</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../animation/index.html">动画</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../camera/index.html">相机</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development/index.html">开发</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../import_export/index.html">导入 - 导出</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../interface/index.html">界面插件</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../lighting/index.html">光照</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../materials/index.html">材质</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../mesh/index.html">网格</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../node/index.html">节点</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../object/index.html">物体</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../paint/index.html">绘制</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../render/index.html">Render</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">绑定</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Rigify</a><ul class="current">
<li class="toctree-l5"><a class="reference internal" href="index.html#basics">基础</a></li>
<li class="toctree-l5 current"><a class="reference internal" href="index.html#customization">个性化定制</a><ul class="current">
<li class="toctree-l6 current"><a class="current reference internal" href="#">Creating Meta-rigs</a><ul>
<li class="toctree-l7"><a class="reference internal" href="#how-rigify-works">How Rigify Works</a></li>
<li class="toctree-l7"><a class="reference internal" href="#creating-a-new-meta-rig">Creating a new Meta-rig</a><ul>
<li class="toctree-l8"><a class="reference internal" href="#add-a-new-armature-object">Add a new Armature Object</a></li>
<li class="toctree-l8"><a class="reference internal" href="#editing-the-armature">Editing the Armature</a><ul>
<li class="toctree-l9"><a class="reference internal" href="#adding-samples-basic">Adding Samples (Basic)</a></li>
<li class="toctree-l9"><a class="reference internal" href="#using-rig-types-advanced">Using Rig Types (Advanced)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l7"><a class="reference internal" href="#layers-bone-groups-selection-sets">Layers, Bone Groups &amp; Selection Sets</a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="rig_types/index.html">绑定类型</a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="index.html#extensions">Extensions</a></li>
<li class="toctree-l5"><a class="reference internal" href="index.html#development">开发</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../sequencer/index.html">序列编辑器</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../system/index.html">System</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../uv/index.html">UV</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../video_tools/index.html">视频工具</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../advanced/index.html">高级应用</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../troubleshooting/index.html">问题排查</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../glossary/index.html">词汇表</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../about/index.html">贡献文档</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Blender 2.90 Manual</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">插件</a> &raquo;</li>
        
          <li><a href="../index.html">绑定</a> &raquo;</li>
        
          <li><a href="index.html">Rigify</a> &raquo;</li>
        
      <li>Creating Meta-rigs</li>
    
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="creating-meta-rigs">
<h1>Creating Meta-rigs<a class="headerlink" href="#creating-meta-rigs" title="Permalink to this headline">¶</a></h1>
<ol class="arabic simple">
<li><p>Add a single bone from the <span class="menuselection">Add ‣ Armature</span> menu.</p></li>
<li><p>Go in armature Edit Mode and build the meta rig by samples or Rigify-types.</p></li>
<li><p>Define Rigify layers, bone grouping and selection sets.</p></li>
<li><p>In the armature properties click on the <em>Generate</em> button to generate the rig.</p></li>
</ol>
<div class="section" id="how-rigify-works">
<h2>How Rigify Works<a class="headerlink" href="#how-rigify-works" title="Permalink to this headline">¶</a></h2>
<dl class="simple">
<dt>Rigify Meta-Rigs are split in multiple Sub-Rigs</dt><dd><p>A meta-rig is an assembly of bone chains. A bone chain is identified by the <em>Connected</em> attribute.
Bone chains can be further connected together by parenting them without using the <em>Connected</em> attribute
(i.e. using the <em>Keep Offset</em> option while parenting).</p>
</dd>
<dt>A custom attribute is set on the first bone of the sub-rig chain</dt><dd><p>Each first bone of a bone chain has a custom attribute on it which is a Rigify custom property
that identifies the sub-rig type. At rig generation time Rigify will determine which controls and
deform bones will be created processing the meta-rig from the first bone to the last of each chain.</p>
</dd>
<dt>New meta-rigs are created assembling sub-rigs samples</dt><dd><p>Since a meta-rig is just a collection of sub-rigs,
new meta-rigs can be built assembling sub-rigs in different ways.
This way an infinite number of meta-rigs can be built from the same rigging blocks.</p>
</dd>
<dt>All the mechanics, deformation bones and widget are created on a single click</dt><dd><p>The meta-rig contains more information than the visualized bones.
In fact at generation time Rigify will identify each sub-rig type and depending on
the selected options will create all the sophisticated controls, switches, and
deforming bones with a single click.</p>
</dd>
</dl>
</div>
<div class="section" id="creating-a-new-meta-rig">
<h2>Creating a new Meta-rig<a class="headerlink" href="#creating-a-new-meta-rig" title="Permalink to this headline">¶</a></h2>
<div class="section" id="add-a-new-armature-object">
<h3>Add a new Armature Object<a class="headerlink" href="#add-a-new-armature-object" title="Permalink to this headline">¶</a></h3>
<div class="refbox admonition">
<p class="admonition-title">参考</p>
<dl class="field-list simple">
<dt class="field-odd">模式</dt>
<dd class="field-odd"><p>物体模式</p>
</dd>
<dt class="field-even">菜单</dt>
<dd class="field-even"><p><span class="menuselection">Add ‣ Armature ‣ Single Bone</span></p>
</dd>
<dt class="field-odd">快捷键</dt>
<dd class="field-odd"><p><kbd class="kbd docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Shift</kbd>-<kbd class="kbd docutils literal notranslate">A</kbd></kbd></p>
</dd>
</dl>
</div>
<p>Building your own meta-rig from scratch requires an armature object to work with.
Just add a single bone from the <em>Add</em> menu.</p>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>At this stage naming the newly added armature &quot;meta-rig&quot; is a good idea.
You can do it at any time (or not at all) but it's suggested to do it before going on
so it will always be clear on which armature you have to work when editing the meta-rig structure.</p>
</div>
</div>
<div class="section" id="editing-the-armature">
<h3>Editing the Armature<a class="headerlink" href="#editing-the-armature" title="Permalink to this headline">¶</a></h3>
<p>Now that there is an armature object to work -- with the armature selected -- enter armature Edit Mode.
Building a meta-rig from scratch in Edit Mode can be done in two ways:</p>
<ol class="arabic simple">
<li><p>Adding rig samples.</p></li>
<li><p>Creating bone chains.</p></li>
</ol>
<div class="section" id="adding-samples-basic">
<h4>Adding Samples (Basic)<a class="headerlink" href="#adding-samples-basic" title="Permalink to this headline">¶</a></h4>
<p>Adding samples in Edit Mode is a good way to start building a meta-rig.
This way you can become familiar with the available building blocks and how they are meant to be used.
To add a rig sample:</p>
<ol class="arabic simple">
<li><p>Go in the armature tab.</p></li>
<li><p>Scroll down to Rigify panel.</p></li>
<li><p>Select a sample from the list.</p></li>
<li><p>Click on the <em>Add sample</em> button.</p></li>
<li><p>Edit the bone positions to match your character.</p></li>
</ol>
<p>For the list of available samples, see the <a class="reference internal" href="rig_types/index.html"><span class="doc">Rig Types</span></a> page.</p>
</div>
<div class="section" id="using-rig-types-advanced">
<h4>Using Rig Types (Advanced)<a class="headerlink" href="#using-rig-types-advanced" title="Permalink to this headline">¶</a></h4>
<ol class="arabic simple">
<li><p>Create your bone chains in Edit Mode.</p></li>
<li><p>Assign the correct rig type to the first bone of each chain in Pose Mode.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Each sub rig has a required number of bones as input. If you are unsure on how to use rig-types properties,
add a rig sample to your armature to see how it is supposed to be used.</p>
</div>
</div>
</div>
</div>
<div class="section" id="layers-bone-groups-selection-sets">
<h2>Layers, Bone Groups &amp; Selection Sets<a class="headerlink" href="#layers-bone-groups-selection-sets" title="Permalink to this headline">¶</a></h2>
<p>Armature layers are usually used to isolate bones.
Rigify can take advantage of armature layer to generate extra features and the user interface for the final rig.
Blender 2.79 can handle 32 separate layers for each armature.
The armature layers are visualized under the armature tab. They are split in two separate groups of 16:
The top row contains layers from 1 to 8 and from 9 to 16.
The bottom row layers form 17 to 24 and form 25 to 32.</p>
<p>Rigify layers are displayed in a vertical layout inside their own separate panel named Rigify Layer Names.</p>
<ul>
<li><p>The first column shows the layer number.</p></li>
<li><p>The second column is a display toggle.</p>
<p>This toggle controls the armature layer visibility.
It has the same effect of enabling/disabling the layer visibility from the top armature layers menu.
It is just redrawn here for a simplicity.</p>
</li>
<li><p>The third column sets a specific layer name to be used to build the rig UI of the final rig.
If set, a button with the specified name will be created in the rig_ui to control the visibility of
this specific armature layer. If layer contains at least one bone but its name field is empty,
a button with no name will be created in the rig UI.</p></li>
<li><p>The fourth column defines in which UI row the layer button will be created.</p>
<p>This numbers define the layer ordering in the UI and will ignore the effective layer number.
If two layer have the same row number their UI buttons will be created in the same row.</p>
</li>
<li><p>The fifth column is a toggle for the selection set.</p>
<p>If checked a selection set with that name will be created and associated to the final rig.</p>
</li>
<li><p>The sixth column defines the Rigify Bone Grouping.</p>
<p>If Rigify Bone Groups are set, the user can make the association between
the bones on the layer and the specified bone group from the list.
The controls on the final rig will inherit the bone grouping through this value.</p>
</li>
<li><p>The seventh column displays -- if set -- the associated bone group name.</p></li>
</ul>
<p>In order to use the Bone Groups in the <em>Rigify Layer Names</em> fields,
<em>Rigify Bone Groups</em> must be set through the specific panel.
Usually this panel is displayed just above Rigify Layer Names panel.</p>
<p>Rigify Bone Groups are used to define bone colors on the final rig.
The top two rows of the Rigify Bone Groups panel are used to define the bone colors general behavior.
Usually color themes use a gradient of colors to define the different bone states: default, selected and active.
When multiple color themes are used in the same rig, identifying which bone is selected or
active can be tricky since each color will have its corresponding state.</p>
<p>To override this behavior Rigify Bone Groups unifies the active and selected states with the same color.
This is defined by two values:</p>
<dl class="simple">
<dt>Unified Selected/Active Colors</dt><dd><p>When this option is active adding a bone group in the list will always keep the colors consistent.
When a color scheme is added as from a theme, the color scheme is loaded as is.
Click on the <em>Apply</em> button to force the system to unify selected and active colors.</p>
</dd>
<dt>Selected/Active Colors</dt><dd><p>This two color fields define respectively <em>Selected</em> and <em>Active</em> colors.
By default Rigify reads this colors from the theme defined by the user in the Blender preferences.
This way the <em>Selected</em>/<em>Active</em> colors can always have a predictable and consistent behavior in the UI.
The colors can be customized by clicking on the relative color field.
To reset them to the Blender current theme value just click on the button with the update icon.</p>
</dd>
</dl>
<p>Bone Groups can be added and deleted as done in the general Bone Group panel
by clicking on the <code class="docutils literal notranslate"><span class="pre">+</span></code> or <code class="docutils literal notranslate"><span class="pre">-</span></code> buttons.
All Bone Groups can be deleted at once by clicking on the specials menu.</p>
<p>To add the predefined Rigify Default Bone Groups list click on <em>Add Standard</em> button.</p>
<p>To add a specific theme with its own color scheme, select it from the list and click on the <em>Add From Theme</em> button.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="rig_types/index.html" class="btn btn-neutral float-right" title="绑定类型" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="rig_features.html" class="btn btn-neutral float-left" title="Generated Rig Features" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        
        &copy; <a href="../../../copyright.html">Copyright</a> : This page is licensed under a CC-BY-SA 4.0 Int. License

    </p>
  </div>
      <div class="footer-contribute">
         <ul>
            <li>
               <a href="https://developer.blender.org/diffusion/BM/browse/trunk/blender_docs/manual/addons/rigging/rigify/metarigs.rst" class="fa fa-edit"> 编辑页面</a>
            </li>
            <li>
               <a href="https://developer.blender.org/maniphest/task/edit/form/default/?description=Pagename%3A%20%60addons/rigging/rigify/metarigs%60&project=PHID-PROJ-c4nvvrxuczix2326vlti" class="fa fa-bug"> 报告错误</a>
            </li>
         <ul>
      </div>


</footer>

        </div>
      </div>

    </section>

  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="document versions">
<ul id="versionwrap" role="presentation">
   <li style="float:left" role="presentation">
		<span id="version-dropdown" class="version-btn" tabindex="0" role="button" aria-label="versions selector" aria-haspopup="true" aria-controls="version-vsnlist" aria-disabled="true">
		2.90 
		</span>
		<ul id="version-vsnlist" class="version-list" role="menu" aria-labelledby="version-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
   <li style="float:right" role="presentation">
		<span id="lang-dropdown" class="version-btn" tabindex="0" role="button"  aria-label="language selector" aria-haspopup="true" aria-controls="version-langlist">
			 zh-hans 
		</span>
		<ul id="version-langlist" class="version-list" role="menu" aria-labelledby="lang-dropdown" aria-hidden="true">
			<li role="presentation">Loading...</li>
		</ul>
	</li>
</ul>
</div>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
  
 
<script>
window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
ga('create', 'UA-1418081-1', 'auto');
ga('send', 'pageview');
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

</body>
</html>